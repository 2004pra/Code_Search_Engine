<!DOCTYPE html>
<html>
  <head>
     <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="/css/styles.css">
    <title>GitHub Code Search</title>
    <script>
      // Initialize theme immediately to avoid flash
      (function() {
        const theme = localStorage.getItem('theme') || 'dark';
        document.documentElement.classList.toggle('dark', theme === 'dark');
      })();
    </script>
  </head>
  
  <body class="bg-gray-50 dark:bg-[#1a1a1a] transition-colors duration-300">
    <div class="flex flex-col min-h-screen">
     <!-- Navbar -->
     <nav class="w-full bg-white dark:bg-node-dark border-b border-gray-200 dark:border-gray-700 shadow-sm">
       <div class="max-w-7xl mx-auto px-4 py-3 flex items-center justify-between">
         <div class="flex items-center gap-6 flex-1">
           <a href="/" class="flex items-center gap-3 hover:opacity-80 transition-opacity">
             <div class="w-10 h-10 flex-shrink-0">
               <img class="w-10 h-10 object-contain animate-glitch" src="/images/logo/codio.png" alt="Codio logo">
             </div>
             <h1 class="text-2xl text-gray-900 dark:text-white font-bold">Codio</h1>
           </a>
           
           <!-- Mobile Menu Button -->
           <button id="mobileMenuBtn" class="md:hidden ml-auto p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors">
             <svg id="menuIcon" class="w-6 h-6 text-gray-600 dark:text-gray-300" fill="none" stroke="currentColor" viewBox="0 0 24 24">
               <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"/>
             </svg>
             <svg id="closeIcon" class="w-6 h-6 text-gray-600 dark:text-gray-300 hidden" fill="none" stroke="currentColor" viewBox="0 0 24 24">
               <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/>
             </svg>
           </button>
           
           <div class="hidden md:flex items-center gap-6">
             <a href="/" class="text-node-green font-medium">Home</a>
             <a href="/about" class="text-gray-600 dark:text-gray-300 hover:text-node-green dark:hover:text-node-green transition-colors font-medium">About</a>
           </div>
         </div>
         
         <!-- Dark/Light Mode Toggle Button -->
         <button id="themeToggle" type="button" class="p-2 rounded-lg bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors duration-200">
           <svg id="sunIcon" class="w-5 h-5 text-yellow-500 hidden" fill="currentColor" viewBox="0 0 20 20">
             <path fill-rule="evenodd" d="M10 2a1 1 0 011 1v1a1 1 0 11-2 0V3a1 1 0 011-1zm4 8a4 4 0 11-8 0 4 4 0 018 0zm-.464 4.95l.707.707a1 1 0 001.414-1.414l-.707-.707a1 1 0 00-1.414 1.414zm2.12-10.607a1 1 0 010 1.414l-.706.707a1 1 0 11-1.414-1.414l.707-.707a1 1 0 011.414 0zM17 11a1 1 0 100-2h-1a1 1 0 100 2h1zm-7 4a1 1 0 011 1v1a1 1 0 11-2 0v-1a1 1 0 011-1zM5.05 6.464A1 1 0 106.465 5.05l-.708-.707a1 1 0 00-1.414 1.414l.707.707zm1.414 8.486l-.707.707a1 1 0 01-1.414-1.414l.707-.707a1 1 0 011.414 1.414zM4 11a1 1 0 100-2H3a1 1 0 000 2h1z" clip-rule="evenodd"/>
           </svg>
           <svg id="moonIcon" class="w-5 h-5 text-gray-600 dark:text-gray-300" fill="currentColor" viewBox="0 0 20 20">
             <path d="M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z"/>
           </svg>
         </button>
       </div>
     </nav>

     <!-- Mobile Menu -->
     <div id="mobileMenu" class="hidden md:hidden bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700">
       <a href="/" class="block px-4 py-3 text-gray-600 dark:text-gray-300 hover:text-node-green dark:hover:text-node-green hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors font-medium">Home</a>
       <a href="/about" class="block px-4 py-3 text-gray-600 dark:text-gray-300 hover:text-node-green dark:hover:text-node-green hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors font-medium">About</a>
     </div>
   
    <!-- Main Content -->
    <div class="flex-1">
    <div class="max-w-7xl mx-auto px-4 py-12">
      <!-- Hero Section -->
      <div class="text-center mb-12">
        <h2 class="text-5xl font-bold mb-3">
          <span class="text-gray-900 dark:text-white">Search Code</span>
          <span class="text-node-green"> Everywhere</span>
        </h2>
        <p class="text-lg text-gray-600 dark:text-gray-400">Find code snippets from GitHub repositories instantly</p>
      </div>
      
    <% if (error) { %>
      <div class="max-w-3xl mx-auto mb-6 px-4 py-3 text-red-700 bg-red-100 dark:bg-red-900 dark:text-red-200 border border-red-300 dark:border-red-700 rounded-lg">
        <div class="flex items-start gap-3">
          <svg class="w-5 h-5 mt-0.5 flex-shrink-0" fill="currentColor" viewBox="0 0 20 20">
            <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z" clip-rule="evenodd"/>
          </svg>
          <div class="flex-1">
            <p class="font-semibold mb-1"><%= error %></p>
            <% if (error.includes('rate limit')) { %>
              <p class="text-sm mt-2">üí° Tip: Rate limit resets every hour. Try again later or use a different GitHub token.</p>
            <% } else if (error.includes('Invalid')) { %>
              <p class="text-sm mt-2">üí° Tip: Use letters, numbers, spaces, and dots only. Avoid special characters.</p>
            <% } %>
          </div>
        </div>
      </div>
    <% } %>

      <!-- Search Box with Language Filter -->
      <div class="max-w-3xl mx-auto mb-12">
        <form method="GET" action="/search" class="space-y-4">
          <div class="flex flex-col sm:flex-row gap-3">
            <!-- Search Input -->
            <input
              class="flex-1 px-4 py-3 rounded-lg outline-none bg-white dark:bg-gray-800 border-2 border-gray-300 dark:border-gray-600 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:border-node-green dark:focus:border-node-green transition-colors"
              type="text"
              name="q"
              placeholder="Search code snippets..."
              value="<%= queryText %>" 
              required
            />
            
            <!-- Language Filter Dropdown -->
            <div class="relative">
              <select 
                name="language" 
                class="w-full sm:w-48 px-4 py-3 rounded-lg outline-none bg-white dark:bg-gray-800 border-2 border-gray-300 dark:border-gray-600 text-gray-900 dark:text-white focus:border-node-green dark:focus:border-node-green transition-colors appearance-none cursor-pointer"
              >
                <option value="" <%= selectedLanguage === '' ? 'selected' : '' %>>All Languages</option>
                <option value="javascript" <%= selectedLanguage === 'javascript' ? 'selected' : '' %>>JavaScript</option>
                <option value="python" <%= selectedLanguage === 'python' ? 'selected' : '' %>>Python</option>
                <option value="java" <%= selectedLanguage === 'java' ? 'selected' : '' %>>Java</option>
                <option value="typescript" <%= selectedLanguage === 'typescript' ? 'selected' : '' %>>TypeScript</option>
                <option value="cpp" <%= selectedLanguage === 'cpp' ? 'selected' : '' %>>C++</option>
                <option value="csharp" <%= selectedLanguage === 'csharp' ? 'selected' : '' %>>C#</option>
                <option value="php" <%= selectedLanguage === 'php' ? 'selected' : '' %>>PHP</option>
                <option value="ruby" <%= selectedLanguage === 'ruby' ? 'selected' : '' %>>Ruby</option>
                <option value="go" <%= selectedLanguage === 'go' ? 'selected' : '' %>>Go</option>
                <option value="rust" <%= selectedLanguage === 'rust' ? 'selected' : '' %>>Rust</option>
                <option value="swift" <%= selectedLanguage === 'swift' ? 'selected' : '' %>>Swift</option>
                <option value="kotlin" <%= selectedLanguage === 'kotlin' ? 'selected' : '' %>>Kotlin</option>
                <option value="dart" <%= selectedLanguage === 'dart' ? 'selected' : '' %>>Dart</option>
                <option value="r" <%= selectedLanguage === 'r' ? 'selected' : '' %>>R</option>
                <option value="shell" <%= selectedLanguage === 'shell' ? 'selected' : '' %>>Shell</option>
                <option value="html" <%= selectedLanguage === 'html' ? 'selected' : '' %>>HTML</option>
                <option value="css" <%= selectedLanguage === 'css' ? 'selected' : '' %>>CSS</option>
                <option value="reactjs" <%= selectedLanguage === 'css' ? 'selected' : '' %>>React js</option>
                <option value="nextjs" <%= selectedLanguage === 'css' ? 'selected' : '' %>>Next js</option>
                <option value="mongodb" <%= selectedLanguage === 'css' ? 'selected' : '' %>>MongoDB</option>
                <option value="angular" <%= selectedLanguage === 'css' ? 'selected' : '' %>>Angular</option>
                <option value="vue" <%= selectedLanguage === 'css' ? 'selected' : '' %>>Vue</option>
              </select>
              <!-- Dropdown Arrow Icon -->
              <div class="pointer-events-none absolute inset-y-0 right-0 flex items-center px-3 text-gray-600 dark:text-gray-400">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                  <path fill-rule="evenodd" d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z" clip-rule="evenodd"/>
                </svg>
              </div>
            </div>
            
            <!-- Search Button -->
            <button 
              id="searchBtn"
              class="px-8 py-3 bg-node-green hover:bg-[#5a8f56] text-white font-semibold rounded-lg transition-colors duration-200 shadow-md hover:shadow-lg flex items-center justify-center gap-2"
              type="submit"
            >
              <svg id="searchIcon" class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"/>
              </svg>
              <svg id="loadingSpinner" class="animate-spin w-5 h-5 hidden" fill="none" viewBox="0 0 24 24">
                <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
                <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
              </svg>
              <span id="searchBtnText">Search</span>
            </button>
          </div>
          
          <!-- Repository Filter Input (Optional) -->
          <div class="mt-4">
            <label for="repos" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">
              Filter by Repositories (Optional)
            </label>
            <textarea
              id="repos"
              name="repos"
              rows="3"
              class="w-full px-4 py-3 rounded-lg outline-none bg-white dark:bg-gray-800 border-2 border-gray-300 dark:border-gray-600 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:border-node-green dark:focus:border-node-green transition-colors resize-none text-sm"
              placeholder="Enter repositories (one per line or comma-separated)&#10;Examples:&#10;  microsoft/vscode&#10;  https://github.com/facebook/react&#10;  nodejs/node, torvalds/linux"
            ><%= reposText %></textarea>
            <div class="mt-2 flex items-center justify-between">
              <p class="text-xs text-gray-500 dark:text-gray-400">
                Leave empty to search all repositories. Supports formats: owner/repo or GitHub URLs
              </p>
              <div id="repoCounter" class="text-sm font-medium text-node-green hidden">
                <svg class="w-4 h-4 inline" fill="currentColor" viewBox="0 0 20 20">
                  <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/>
                </svg>
                <span id="repoCount">0</span> repositories detected
              </div>
            </div>
          </div>
        </form>
      </div>

    <% if (message) { %>
      <div class="max-w-3xl mx-auto mb-6 px-4 py-3 text-gray-700 dark:text-gray-300 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg">
        <div class="flex items-start gap-3">
          <svg class="w-5 h-5 mt-0.5 flex-shrink-0 text-blue-600 dark:text-blue-400" fill="currentColor" viewBox="0 0 20 20">
            <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clip-rule="evenodd"/>
          </svg>
          <div class="flex-1">
            <p class="font-semibold"><%= message %></p>
            <div class="text-sm mt-2 space-y-1">
              <p>Try these tips:</p>
              <ul class="list-disc list-inside ml-2 space-y-1">
                <li>Use different or more general keywords</li>
                <li>Remove repository filters to search all repos</li>
                <li>Check for typos in your search query</li>
                <li>Try a different programming language filter</li>
              </ul>
            </div>
          </div>
        </div>
      </div>
    <% } %>

    <% if (results && results.length > 0) { %>
      <!-- Results Section -->
      <div class="max-w-5xl mx-auto">
        <div class="mb-6 flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3">
          <div>
            <h3 class="text-2xl font-bold text-gray-900 dark:text-white">
              Search Results
            </h3>
            <p class="text-sm text-gray-600 dark:text-gray-400 mt-1">
              Showing <%= (currentPage - 1) * 10 + 1 %>-<%= Math.min(currentPage * 10, totalPages * 10) %> of <%= totalPages * 10 %> results
            </p>
          </div>
          <span class="text-sm font-medium text-gray-600 dark:text-gray-400 bg-gray-100 dark:bg-gray-700 px-3 py-1.5 rounded-full">
            Page <%= currentPage %> / <%= totalPages %>
          </span>
        </div>
        
        <!-- Results Grid -->
        <div class="space-y-3">
          <% results.forEach(r => { %>
            <div class="bg-gradient-to-br from-white to-gray-50 dark:from-gray-800 dark:to-gray-750 rounded-lg shadow-lg hover:shadow-xl transition-all duration-300 overflow-hidden border border-gray-200 dark:border-gray-600 hover:border-node-green dark:hover:border-node-green">
              <!-- User Badge Section -->
              <div class="bg-gradient-to-r from-node-green to-[#5a8f56] px-4 py-2 flex items-center justify-between">
                <div class="flex items-center gap-2">
                  <div class="w-8 h-8 rounded-full bg-white dark:bg-gray-800 flex items-center justify-center font-bold text-node-green text-xs shadow-md">
                    <%= r.user.charAt(0).toUpperCase() %>
                  </div>
                  <div>
                    <p class="text-xs text-green-100 font-medium uppercase tracking-wide">Creator</p>
                    <p class="text-white font-bold text-xs"><%= r.user %></p>
                  </div>
                </div>
                <% if (r.stars >= 1000) { %>
                  <span class="inline-flex items-center px-2 py-1 rounded-full text-xs font-bold bg-yellow-300 text-yellow-900 shadow-md">
                    <svg class="w-3 h-3 mr-1" fill="currentColor" viewBox="0 0 20 20">
                      <path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"/>
                    </svg>
                    POPULAR
                  </span>
                <% } %>
              </div>

              <!-- Card Header -->
              <div class="p-4 pb-2">
                <div class="mb-2">
                  <h4 class="text-lg font-bold text-gray-900 dark:text-white truncate hover:text-node-green transition-colors mb-1">
                    <%= r.repo %>
                  </h4>
                  <p class="text-xs text-gray-500 dark:text-gray-400 font-mono truncate bg-gray-100 dark:bg-gray-700 px-2 py-1 rounded inline-block">
                    üìÅ <%= r.path %>
                  </p>
                </div>
                
                <!-- Repository Stats -->
                <div class="flex items-center gap-2 mb-2 text-xs flex-wrap">
                  <span class="inline-flex items-center text-white bg-gradient-to-r from-yellow-400 to-yellow-500 px-2 py-1 rounded-full font-semibold shadow-sm">
                    <svg class="w-3 h-3 mr-1" fill="currentColor" viewBox="0 0 20 20">
                      <path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"/>
                    </svg>
                    <%= r.stars.toLocaleString() %>
                  </span>
                  <span class="inline-flex items-center text-white bg-gradient-to-r from-blue-400 to-blue-500 px-2 py-1 rounded-full font-semibold shadow-sm">
                    <svg class="w-3 h-3 mr-1" fill="currentColor" viewBox="0 0 20 20">
                      <path fill-rule="evenodd" d="M7.707 3.293a1 1 0 010 1.414L5.414 7H11a7 7 0 017 7v2a1 1 0 11-2 0v-2a5 5 0 00-5-5H5.414l2.293 2.293a1 1 0 11-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z" clip-rule="evenodd"/>
                    </svg>
                    <%= r.forks.toLocaleString() %>
                  </span>
                  <% if (r.language !== 'Unknown') { %>
                    <span class="inline-flex items-center px-2 py-1 rounded-full text-xs font-bold bg-gradient-to-r from-purple-100 to-pink-100 dark:from-purple-900/40 dark:to-pink-900/40 text-purple-700 dark:text-purple-300 shadow-sm">
                      üíª <%= r.language %>
                    </span>
                  <% } %>
                </div>
              </div>
              
              <!-- Code Preview -->
              <% if (r.codePreview) { %>
                <div class="border-t border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-900/50">
                  <div class="p-3">
                    <p class="text-xs font-bold text-gray-600 dark:text-gray-400 mb-1.5 uppercase tracking-wide flex items-center">
                      <svg class="w-3 h-3 mr-1.5" fill="currentColor" viewBox="0 0 20 20">
                        <path d="M10.5 1.5H3.75A2.25 2.25 0 001.5 3.75v12.5A2.25 2.25 0 003.75 18.5h12.5a2.25 2.25 0 002.25-2.25V9.5M6.5 5.5h7M6.5 8.5h7M6.5 11.5h4"/>
                      </svg>
                      Code Preview
                    </p>
                    <pre class="text-xs leading-relaxed text-gray-700 dark:text-gray-300 font-mono overflow-x-auto bg-gray-900 dark:bg-gray-950 p-2.5 rounded-lg border border-gray-300 dark:border-gray-600 max-h-28 text-green-400"><code><%- r.codePreview %></code></pre>
                  </div>
                </div>
              <% } %>
              
              <!-- Card Footer -->
              <div class="px-4 py-2.5 bg-gradient-to-r from-gray-50 to-gray-100 dark:from-gray-700/50 dark:to-gray-600/50 border-t border-gray-200 dark:border-gray-600">
                <a 
                  href="<%= r.url %>" 
                  class="inline-flex items-center px-5 py-2 bg-gradient-to-r from-node-green to-[#5a8f56] hover:from-[#5a8f56] hover:to-[#4a7d4a] text-white text-sm font-bold rounded-lg transition-all duration-200 shadow-lg hover:shadow-xl"
                >
                  <svg class="w-4 h-4 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" d="M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"/>
                  </svg>
                  View Full Code
                </a>
              </div>
            </div>
          <% }) %>
        </div>

        <!-- Pagination -->
        <div class="mt-8 flex items-center justify-center gap-4">
          <% if (currentPage > 1) { %>
            <a 
              href="/search?q=<%= encodeURIComponent(queryText) %><%= selectedLanguage ? '&language=' + selectedLanguage : '' %>&page=<%= currentPage - 1 %>"
              class="px-6 py-2 bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors duration-200 font-medium"
            >
              ‚Üê Previous
            </a>
          <% } %>
          <% if (currentPage < totalPages) { %>
            <a 
              href="/search?q=<%= encodeURIComponent(queryText) %><%= selectedLanguage ? '&language=' + selectedLanguage : '' %>&page=<%= currentPage + 1 %>"
              class="px-6 py-2 bg-node-green hover:bg-[#5a8f56] text-white rounded-lg transition-colors duration-200 font-medium shadow-md"
            >
              Next ‚Üí
            </a>
          <% } %>
        </div>
      </div>
    <% } %>
    </div>
    </div>

    <!-- Footer -->
    <footer class="bg-white dark:bg-node-dark border-t border-gray-200 dark:border-gray-700 mt-16">
      <div class="max-w-7xl mx-auto px-4 py-8">
        <div class="flex flex-col md:flex-row items-center justify-between gap-4">
          <!-- Creator Info -->
          <div class="text-center md:text-left">
            <p class="text-gray-700 dark:text-gray-300 font-medium">
              Created by <span class="text-node-green font-semibold">Prashant Mishra</span>
            </p>
            <p class="text-sm text-gray-500 dark:text-gray-400 mt-1">
              ¬© 2026 Codio. All rights reserved.
            </p>
          </div>

          <!-- Social Links -->
          <div class="flex items-center gap-4">
            <!-- GitHub -->
            <a 
              href="https://github.com/2004pra" 
              target="_blank"
              rel="noopener noreferrer"
              class="p-2 text-gray-600 dark:text-gray-400 hover:text-node-green dark:hover:text-node-green transition-colors duration-200"
              aria-label="GitHub"
            >
              <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24">
                <path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/>
              </svg>
            </a>

            <!-- LinkedIn -->
            <a 
              href="https://www.linkedin.com/in/prashantmishra0777/" 
              target="_blank"
              rel="noopener noreferrer"
              class="p-2 text-gray-600 dark:text-gray-400 hover:text-node-green dark:hover:text-node-green transition-colors duration-200"
              aria-label="LinkedIn"
            >
              <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24">
                <path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"/>
              </svg>
            </a>
          </div>
        </div>
      </div>
    </footer>
    </div>

    <!-- Snowfall Effect -->
    <div id="snowfall-container" style="position: fixed; top: 0; left: 0; width: 100%; height: 100%; pointer-events: none; z-index: 1; overflow: hidden;"></div>

    <!-- Scroll to Top Button -->
    <button id="scrollToTopBtn" class="fixed bottom-8 right-8 p-2.5 bg-gradient-to-r from-node-green to-[#5a8f56] hover:from-[#5a8f56] hover:to-[#4a7d4a] text-white rounded-full shadow-lg hover:shadow-xl transition-all duration-300 hidden z-50 hover:glow" style="box-shadow: 0 0 20px rgba(104, 160, 99, 0.5);" title="Scroll to top">
      <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" d="M12 19V5m0 0l-7 7m7-7l7 7"/>
      </svg>
    </button>

    <style>
      .snowflake {
        position: absolute;
        top: -10px;
        color: #fff;
        font-size: 1em;
        user-select: none;
        pointer-events: none;
        animation: fall linear infinite;
      }

      @keyframes fall {
        to {
          transform: translateY(100vh) rotate(360deg);
          opacity: 0;
        }
      }

      @keyframes smoothPulse {
        0% {
          opacity: 0.4;
          transform: scale(0.9);
        }
        30% {
          opacity: 1;
          transform: scale(1);
        }
        70% {
          opacity: 1;
          transform: scale(1);
        }
        100% {
          opacity: 0.4;
          transform: scale(0.9);
        }
      }

      .animate-glitch { animation: smoothPulse 4s ease-in-out infinite; }
    </style>

    <!-- Dark Mode Toggle Script -->
    <script>
      // Mobile Menu Toggle
      const mobileMenuBtn = document.getElementById('mobileMenuBtn');
      const mobileMenu = document.getElementById('mobileMenu');
      const menuIcon = document.getElementById('menuIcon');
      const closeIcon = document.getElementById('closeIcon');

      mobileMenuBtn.addEventListener('click', () => {
        mobileMenu.classList.toggle('hidden');
        menuIcon.classList.toggle('hidden');
        closeIcon.classList.toggle('hidden');
      });

      // Close mobile menu when a link is clicked
      const mobileMenuLinks = mobileMenu.querySelectorAll('a');
      mobileMenuLinks.forEach(link => {
        link.addEventListener('click', () => {
          mobileMenu.classList.add('hidden');
          menuIcon.classList.remove('hidden');
          closeIcon.classList.add('hidden');
        });
      });

      // Check for saved theme preference or default to 'dark'
      const themeToggle = document.getElementById('themeToggle');
      const htmlElement = document.documentElement;
      const sunIcon = document.getElementById('sunIcon');
      const moonIcon = document.getElementById('moonIcon');

      // Initialize theme from localStorage or default to dark
      const currentTheme = localStorage.getItem('theme') || 'dark';
      htmlElement.classList.toggle('dark', currentTheme === 'dark');
      updateIcons(currentTheme);

      // Toggle theme on button click with smooth transition
      themeToggle.addEventListener('click', () => {
        htmlElement.classList.add('theme-transition');
        const isDark = htmlElement.classList.contains('dark');
        if (isDark) {
          htmlElement.classList.remove('dark');
          localStorage.setItem('theme', 'light');
          updateIcons('light');
        } else {
          htmlElement.classList.add('dark');
          localStorage.setItem('theme', 'dark');
          updateIcons('dark');
        }
        // Remove transition class after animation completes
        setTimeout(() => htmlElement.classList.remove('theme-transition'), 300);
      });

      // Update icon visibility based on theme
      function updateIcons(theme) {
        if (theme === 'dark') {
          sunIcon.classList.add('hidden');
          moonIcon.classList.remove('hidden');
        } else {
          sunIcon.classList.remove('hidden');
          moonIcon.classList.add('hidden');
        }
      }

      // Snowfall Effect
      function createSnowflake() {
        const snowflake = document.createElement('div');
        snowflake.classList.add('snowflake');
        snowflake.innerHTML = '‚ùÑ';
        snowflake.style.left = Math.random() * 100 + '%';
        snowflake.style.animationDuration = Math.random() * 3 + 2 + 's';
        snowflake.style.opacity = Math.random() * 0.7 + 0.3;
        snowflake.style.fontSize = Math.random() * 10 + 10 + 'px';
        
        document.getElementById('snowfall-container').appendChild(snowflake);
        
        setTimeout(() => {
          snowflake.remove();
        }, 5000);
      }

      // Loading spinner on form submit
      const searchForm = document.querySelector('form');
      const searchBtn = document.getElementById('searchBtn');
      const searchIcon = document.getElementById('searchIcon');
      const loadingSpinner = document.getElementById('loadingSpinner');
      const searchBtnText = document.getElementById('searchBtnText');
      
      searchForm.addEventListener('submit', function() {
        searchIcon.classList.add('hidden');
        loadingSpinner.classList.remove('hidden');
        searchBtnText.textContent = 'Searching...';
        searchBtn.disabled = true;
      });

      // Repo counter with real-time validation
      const reposTextarea = document.getElementById('repos');
      const repoCounter = document.getElementById('repoCounter');
      const repoCount = document.getElementById('repoCount');
      
      function parseRepos(input) {
        if (!input || !input.trim()) return [];
        const lines = input.split(/[\n,]+/).filter(line => line.trim());
        const validRepos = [];
        
        lines.forEach(line => {
          line = line.trim();
          const urlMatch = line.match(/(?:https?:\/\/)?github\.com\/([^\/\s]+)\/([^\/\s?#]+)/);
          if (urlMatch) {
            validRepos.push(`${urlMatch[1]}/${urlMatch[2]}`);
          } else if (line.match(/^[\w.-]+\/[\w.-]+$/)) {
            validRepos.push(line);
          }
        });
        
        return [...new Set(validRepos)];
      }
      
      reposTextarea.addEventListener('input', function() {
        const repos = parseRepos(this.value);
        if (repos.length > 0) {
          repoCount.textContent = repos.length;
          repoCounter.classList.remove('hidden');
        } else {
          repoCounter.classList.add('hidden');
        }
      });
      
      // Initial count on page load
      if (reposTextarea.value) {
        const repos = parseRepos(reposTextarea.value);
        if (repos.length > 0) {
          repoCount.textContent = repos.length;
          repoCounter.classList.remove('hidden');
        }
      }

      // Keyboard shortcuts
      document.addEventListener('keydown', function(e) {
        // Ctrl/Cmd + K to focus search
        if ((e.ctrlKey || e.metaKey) && e.key === 'k') {
          e.preventDefault();
          document.querySelector('input[name="q"]').focus();
        }
        // Esc to clear search
        if (e.key === 'Escape') {
          const searchInput = document.querySelector('input[name="q"]');
          if (document.activeElement === searchInput) {
            searchInput.value = '';
            searchInput.blur();
          }
        }
      });

      // Create snowflakes periodically
      setInterval(createSnowflake, 200);

      // Scroll to Top Button
      const scrollToTopBtn = document.getElementById('scrollToTopBtn');
      
      window.addEventListener('scroll', () => {
        if (window.pageYOffset > 300) {
          scrollToTopBtn.classList.remove('hidden');
        } else {
          scrollToTopBtn.classList.add('hidden');
        }
      });
      
      scrollToTopBtn.addEventListener('click', () => {
        window.scrollTo({
          top: 0,
          behavior: 'smooth'
        });
      });
    </script>
  </body>
</html>